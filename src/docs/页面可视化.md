# 页面可视化工具区分维度
+ 系统功能
+ 面向客群
+ 编辑自由度
## 系统功能分类
+ `HTML TREE` 编辑，核心功能为高自由度
+ `Component TREE`编辑，核心功能为页面可视化布局设计
+ `页面Data` 编辑，核心功能为快速搭建承载逻辑的页面
+ `Dynamic Logic` 编辑，核心功能为向后台人员提供前端能力
## 面向客群分类
+ 前端小白，诉求是交互性高、所见即所得的编辑方式
+ 运营/产品，核心诉求是快速搭建业务承载业务功能逻辑的页面
+ 后台开发人员，核心诉求是避免重度的前端页面开发
## 编辑自由度
+ `HTML元素`，可编辑元素丰富，结构灵活，编辑效率低，业务逻辑封装度较低
+ `前端框架组件`，依赖工具提供组件，编辑效率高，业务逻辑封装度较高
+ `不嵌套的组件`，每个组件铺满页面宽度，适合搭建移动端页面的场景

# 理想的运营页面可视化搭建框架
+ 采用组件化和页面模板实现页面生成效率的提升
+ 采用不嵌套的组件层级简化数据流和样式布局
+ 采用JSON Schema声明配置数据，配置表单自动生成
+ 采用后台渲染, 使编辑系统与组件前端框架解耦
+ 在遵循编辑系统约定下，前端框架可以自由选择，组件可以自由扩展


# 页面可视化工具的技术要点
## 页面组件化
### 难点
+ 页面可视化工具与页面前端框架解耦
## 页面模板
## 页面可视化编辑
> 页面编辑包含2个部分: **编辑页面组件**和**编辑页面内容**.
### 编辑页面组件
对动态组件页面实现可视化组件编辑时, 可以只编辑组件树声明文件, 然后将组件树声明传入提前打包好的页面中进行渲染. 采用动态组件可以避免重新打包的耗时, 快速生成新页面.
### 编辑页面内容
一个组件包含组件属性(Props), 组件状态(State), 组件HTML模板(Template), 组件业务逻辑(Javascript), 组件样式布局(Style)等几个部分.

组件的配置数据通过组件暴露的 Props 注入到组件中, 在组件内部 Props 作为常量分发给 State, Template, Javascript, Style 等其他组件内容, 由组件内容渲染出视图.
### 难点
+ 如何用最简单的方式生成配置数据编辑表单
## 组件层级关系
### 难点
+ 如何组织页面组件的层级关系
## 页面实时预览
> 实现页面预览有两种方式: **页面挂载**和**后台渲染**
### 页面挂载
> 页面挂载指在编辑器前端页面的某个元素节点(div)上渲染出用户编辑的效果。编辑器前端页面需要提供组件库组件渲染环境(组件库前端框架); 为实现前端渲染, 编辑器前端源码需引入组件库组件源码, 后续组件库更新, 编辑器需要同步更新。
+ 实现页面预览技术方案可行, 实时渲染速度快.
+ 为实现渲染, 编辑器的技术选型需和组件库前端框架一致.
+ 编辑器源码和组件库源码耦合.
+ 组件库组件渲染后的代码逻辑和样式布局, 可能会污染编辑器页面.
### 后台渲染
> 后台渲染指在后台进行用户编辑结果页面的渲染和生成, 编辑器前端页面通过 iframe 加载和展示结果页面。使用后台渲染的预览方式, 编辑器前端页面并不需要渲染组件库的组件，甚至不需要组件源码, 只需知道各个组件的描述信息。
+ 可以实现编辑器和组件库前端框架的分离.
+ 可以实现编辑器和组件库各组件的分离.
+ 可以避免预览页面的逻辑和样式污染编辑器环境.
+ 要求后台和组件库提供页面后台渲染能力, 并要求后台渲染速度快, 用户需要**实时**预览.
### 难点
+ 如何实现组件库的快速后台渲染, 从而实现编辑器和组件库前端框架的分离.

